{"ast":null,"code":"import CryptoJS from 'crypto-js';\nconst SECRET_KEY = process.env.REACT_APP_ENCRYPTION_KEY || 'ambulance_secret_key_256';\nexport class EncryptionService {\n  // AES Encryption\n  static encrypt(data) {\n    try {\n      const encrypted = CryptoJS.AES.encrypt(JSON.stringify(data), SECRET_KEY).toString();\n      return encrypted;\n    } catch (error) {\n      console.error('Encryption error:', error);\n      throw new Error('Failed to encrypt data');\n    }\n  }\n\n  // AES Decryption\n  static decrypt(encryptedData) {\n    try {\n      const bytes = CryptoJS.AES.decrypt(encryptedData, SECRET_KEY);\n      const decrypted = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n      return decrypted;\n    } catch (error) {\n      console.error('Decryption error:', error);\n      throw new Error('Failed to decrypt data');\n    }\n  }\n\n  // Generate simulated ECG data\n  static generateSimulatedECG() {\n    const dataPoints = [];\n    for (let i = 0; i < 100; i++) {\n      // Simulate ECG waveform with some noise\n      const base = Math.sin(i * 0.2) * 50;\n      const noise = (Math.random() - 0.5) * 20;\n      dataPoints.push(Math.round(base + noise + 100)); // Center around 100\n    }\n    return dataPoints;\n  }\n}\n\n// Data simulator for demo purposes\nexport class DataSimulator {\n  static generateVitals(patientId) {\n    const heartRate = Math.floor(Math.random() * 60) + 60; // 60-120 bpm\n    const systolic = Math.floor(Math.random() * 60) + 100; // 100-160 mmHg\n    const diastolic = Math.floor(Math.random() * 30) + 60; // 60-90 mmHg\n    const spo2 = Math.floor(Math.random() * 6) + 95; // 95-100%\n    const temperature = Math.random() * 2 + 36.5; // 36.5-38.5°C\n    const respiratoryRate = Math.floor(Math.random() * 10) + 12; // 12-22 bpm\n\n    return {\n      patientId,\n      vitals: {\n        heartRate,\n        bloodPressure: {\n          systolic,\n          diastolic\n        },\n        spo2,\n        temperature: parseFloat(temperature.toFixed(1)),\n        ecg: EncryptionService.generateSimulatedECG(),\n        respiratoryRate,\n        timestamp: new Date()\n      },\n      location: {\n        latitude: 40.7128 + (Math.random() - 0.5) * 0.1,\n        longitude: -74.0060 + (Math.random() - 0.5) * 0.1,\n        address: 'Ambulance in transit'\n      }\n    };\n  }\n}","map":{"version":3,"names":["CryptoJS","SECRET_KEY","process","env","REACT_APP_ENCRYPTION_KEY","EncryptionService","encrypt","data","encrypted","AES","JSON","stringify","toString","error","console","Error","decrypt","encryptedData","bytes","decrypted","parse","enc","Utf8","generateSimulatedECG","dataPoints","i","base","Math","sin","noise","random","push","round","DataSimulator","generateVitals","patientId","heartRate","floor","systolic","diastolic","spo2","temperature","respiratoryRate","vitals","bloodPressure","parseFloat","toFixed","ecg","timestamp","Date","location","latitude","longitude","address"],"sources":["C:/Users/Lenovo/ambulance-data-system/frontend/src/utils/encryption.js"],"sourcesContent":["import CryptoJS from 'crypto-js';\r\n\r\nconst SECRET_KEY = process.env.REACT_APP_ENCRYPTION_KEY || 'ambulance_secret_key_256';\r\n\r\nexport class EncryptionService {\r\n  // AES Encryption\r\n  static encrypt(data) {\r\n    try {\r\n      const encrypted = CryptoJS.AES.encrypt(JSON.stringify(data), SECRET_KEY).toString();\r\n      return encrypted;\r\n    } catch (error) {\r\n      console.error('Encryption error:', error);\r\n      throw new Error('Failed to encrypt data');\r\n    }\r\n  }\r\n\r\n  // AES Decryption\r\n  static decrypt(encryptedData) {\r\n    try {\r\n      const bytes = CryptoJS.AES.decrypt(encryptedData, SECRET_KEY);\r\n      const decrypted = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n      return decrypted;\r\n    } catch (error) {\r\n      console.error('Decryption error:', error);\r\n      throw new Error('Failed to decrypt data');\r\n    }\r\n  }\r\n\r\n  // Generate simulated ECG data\r\n  static generateSimulatedECG() {\r\n    const dataPoints = [];\r\n    for (let i = 0; i < 100; i++) {\r\n      // Simulate ECG waveform with some noise\r\n      const base = Math.sin(i * 0.2) * 50;\r\n      const noise = (Math.random() - 0.5) * 20;\r\n      dataPoints.push(Math.round(base + noise + 100)); // Center around 100\r\n    }\r\n    return dataPoints;\r\n  }\r\n}\r\n\r\n// Data simulator for demo purposes\r\nexport class DataSimulator {\r\n  static generateVitals(patientId) {\r\n    const heartRate = Math.floor(Math.random() * 60) + 60; // 60-120 bpm\r\n    const systolic = Math.floor(Math.random() * 60) + 100; // 100-160 mmHg\r\n    const diastolic = Math.floor(Math.random() * 30) + 60; // 60-90 mmHg\r\n    const spo2 = Math.floor(Math.random() * 6) + 95; // 95-100%\r\n    const temperature = (Math.random() * 2) + 36.5; // 36.5-38.5°C\r\n    const respiratoryRate = Math.floor(Math.random() * 10) + 12; // 12-22 bpm\r\n\r\n    return {\r\n      patientId,\r\n      vitals: {\r\n        heartRate,\r\n        bloodPressure: { systolic, diastolic },\r\n        spo2,\r\n        temperature: parseFloat(temperature.toFixed(1)),\r\n        ecg: EncryptionService.generateSimulatedECG(),\r\n        respiratoryRate,\r\n        timestamp: new Date()\r\n      },\r\n      location: {\r\n        latitude: 40.7128 + (Math.random() - 0.5) * 0.1,\r\n        longitude: -74.0060 + (Math.random() - 0.5) * 0.1,\r\n        address: 'Ambulance in transit'\r\n      }\r\n    };\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}